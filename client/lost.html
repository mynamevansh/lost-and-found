<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" type="image/x-icon" href="images/favicon.ico" />
  <link rel="stylesheet" href="css/lost.css" />
  <title>Lost Page</title>
</head>
<body>
  <div class="stars"></div>
  <div class="shooting-stars"></div>

  <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
    <button onclick="goHome()" style="background: rgba(100, 150, 200, 1); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; margin-right: 10px;">Home</button>
    <button onclick="logout()" style="background: rgba(255, 150, 160, 1); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600;">Logout</button>
  </div>

  <h1>"Lost Items"</h1>
  
  <div class="filter-section">
    <input type="text" id="searchInput" placeholder="ðŸ” Search items by name..." />
    <select id="sortSelect">
      <option value="newest">Newest First</option>
      <option value="oldest">Oldest First</option>
      <option value="recent">Recently Added (Last 7 Days)</option>
    </select>
  </div>
  
  <div class="lost-container" id="lost-container">
  </div>

  <div class="form-container">
    <form class="lost-form" id="lostForm" enctype="multipart/form-data">
      <h2>Report a Lost Item</h2>

      <label for="name">Owner Name:</label>
      <input type="text" id="name" name="name" placeholder="Your name" required />

      <label for="itemName">Item Lost:</label>
      <input type="text" id="itemName" name="itemName" placeholder="e.g., Blue Backpack, iPhone 13" required />

      <label for="location">Last Seen:</label>
      <input type="text" id="location" name="location" placeholder="e.g., Library 3rd Floor, Parking Lot B" required />

      <label for="contactInfo">Contact Info:</label>
      <input type="text" id="contactInfo" name="contactInfo" placeholder="Email or phone number" required />

      <label for="photo">Upload Photo:</label>
      <input type="file" id="photo" name="photo" accept="image/*" />

      <label for="description">Description:</label>
      <textarea id="description" name="description" rows="4" placeholder="Describe the item, condition, distinguishing features..." required></textarea>

      <button type="submit">Submit</button>
    </form>
  </div>

  <script>
    function checkAuth() {
      const token = localStorage.getItem('userToken');
      if (!token) {
        window.location.href = 'index.html';
        return false;
      }
      return true;
    }

    function logout() {
      localStorage.removeItem('userToken');
      localStorage.removeItem('userName');
      localStorage.removeItem('userId');
      localStorage.removeItem('userEmail');
      localStorage.removeItem('userRole');
      window.location.href = 'index.html';
    }

    function goHome() {
      window.location.href = 'main.html';
    }

    checkAuth();
  </script>

  <script src="js/lost.js"></script>
</body>
</html>
